<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/stylesheet/profile.css">
    <title>Document</title>
</head>

<body>


    <div class="container mt-4 header ">
        <div class="top-bar">
            <div class="row align-items-center justify-content-between flex-nowrap ">

                <!-- Left Username -->
                <div class="col-4 text-center">
                    <h5 class="m-0"><span>
                            <%= user.username %>
                        </span></h5>
                </div>

                <!-- + Dropdown Button -->
                <div class="col-auto d-flex justify-content-center">
                    <div class="dropdown">
                        <button class="btn p-0" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="/images/icons/2ndicon+.png" alt="icon2" class="img-fluid" style="width: 24px;" />
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#">
                                    Reel <img src="/images/icons/reel.jpeg" alt="reel" style="width: 20px;" />
                                </a></li>
                            <hr class="my-1">
                            <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#">
                                    Post <img src="/images/icons/grid.png" alt="post" style="width: 20px;" />
                                </a></li>
                            <hr class="my-1">
                            <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#">
                                    Story <img src="/images/icons/story.png" alt="story" style="width: 20px;" />
                                </a></li>
                        </ul>
                    </div>
                </div>

                <!-- Send Icon -->
                <div class="col-auto d-flex justify-content-center">
                    <img src="/images/icons/4thiconsend.png" alt="send" class="img-fluid" style="width: 24px;" />
                </div>

                <!-- 3-Dot Offcanvas Trigger -->
                <!-- 3-Dot Offcanvas Trigger -->
                <div class="col-auto d-flex justify-content-end me-2">
                    <button class="btn p-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasBottom"
                        aria-controls="offcanvasBottom">
                        <i class="fa-solid fa-bars fs-5"></i>
                    </button>

                    <!-- Offcanvas Bottom with custom height -->
                    <div class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasBottom"
                        aria-labelledby="offcanvasBottomLabel"
                        style="height: 60vh; border-top-left-radius: 20px; border-top-right-radius: 20px;">

                        <div class="offcanvas-header">
                            <h5 class="offcanvas-title" id="offcanvasBottomLabel">Menu</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"
                                aria-label="Close"></button>
                        </div>

                        <div class="offcanvas-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">‚öôÔ∏è Setting</li>
                                <li class="list-group-item">üìâ Data saver</li>
                                <li class="list-group-item">üóÇÔ∏è Archive</li>
                                <li class="list-group-item">üîñ Saved</li>
                                <li class="list-group-item">üßë‚Äçüè´ Supervision</li>
                                <li class="list-group-item">üëØ Close Friends</li>
                                <li class="list-group-item">üîç Discover people</li>
                                <li class="list-group-item">üì® Invite friends by...</li>
                                <li class="list-group-item">‚ö†Ô∏è Report a problem</li>
                                <a href="/logout">
                                    <li class="list-group-item text-danger">üö™ Logout</li>
                                </a>
                                <br><br>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>





    <div class="container text-center fw-bolder mt-2">
        <div class="row align-items-center justify-content-between flex-nowrap">
            <div class="col-3 position-relative text-center" style="min-width: 120px;">
                <div class="position-relative d-inline-block">
                    <img src="/images/uploads/<%= user.profileImage %>" alt="story1"
                        class="rounded-circle border border-black profile-img"
                        style="width: 100px; height: 100px; object-fit: cover;">
                    <img src="/images/icons/+iconforstory.png"
                        class="plus-icon position-absolute mx-3 my-2 rounded-circle" alt="plus"
                        style="width: 30px; height: 30px;">
                </div>
            </div>

            <div class="col-3">4 <br>Posts</div>
            <div class="col-3">120 <br>Followers</div>
            <div class="col-3">116 <br>Following</div>
        </div>
    </div>


    <div class="container">
        <div class="row align-items-center justify-content-between flex-nowrap">
            <div class="col-3 position-relative text-center">
                <h6 class="mt-3">
                    <%= user.fullname%>
                </h6>
            </div>
        </div>

        <div class="row  align-items-center justify-content-between flex-nowrap">
            <div class="col border border-2 mx-2">
                <%= user.bio%>

            </div>
        </div>

        <div class="row align-items-center justify-content-between flex-nowrap mt-1">

            <div class="col-6 position-relative text-center">
                <a href="/edit" class="btn btn-primary"
                    style="--bs-btn-padding-y: 1rem; --bs-btn-padding-x: 1rem; --bs-btn-font-size: 1rem;">
                    Edit profile
                </a>

            </div>

            <div class="col-6 position-relative text-center">
                <button type="button" class="btn btn-primary"
                    style="--bs-btn-padding-y: 1rem; --bs-btn-padding-x: 1rem; --bs-btn-font-size: 1rem;">
                    share profile
                </button>
            </div>
        </div>
    </div>


    <!-- // story,reel,post section -->

    <div class="container mt-4">
        <div class="row text-center">
            <div class="col-4 d-flex justify-content-center align-items-center">
                <img src="/images/icons/grid.png" class="img-fluid icons tab-icon active" alt="Posts"
                    style="max-width: 50px; cursor: pointer;" onclick="showSection('posts', this)">
            </div>
            <div class="col-4 d-flex justify-content-center align-items-center">
                <img src="/images/icons/reel.jpeg" class="img-fluid icons tab-icon" alt="Reels"
                    style="max-width: 50px; cursor: pointer;" onclick="showSection('reels', this)">
            </div>
            <div class="col-4 d-flex justify-content-center align-items-center">
                <img src="/images/icons/profile_logo.png" class="img-fluid icons tab-icon" alt="Tagged"
                    style="max-width: 50px; cursor: pointer;" onclick="showSection('tagged', this)">
            </div>
        </div>
    </div>

    <hr class="my-1">

    <!-- Content Sections -->
    <div class="container mt-4">
        <!-- Posts Section -->
        <div class="row text-center content-section" id="posts">
            <% for(let i=count-1 ;i>=0;i--){ %>
                <div class="col-4 ">
                    <img src="/images/uploads/<%= post[i].picture %>" class="img-fluid" alt="Post 1">
                </div>
                <%}%>
        </div>

        <!-- Reels Section (hidden by default) -->
        <div class="row text-center content-section" id="reels" style="display: none;">
            <div class="col-12">
                <iframe width="70%" height="315" src="https://www.youtube.com/embed/4okcvSdXqvQ?si=wRu_m3D8bSJLPg2C"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
            </div>
        </div>

        <!-- Tagged Section (hidden by default) -->
        <div class="row text-center content-section" id="tagged" style="display: none;">
            <div class="col-12">
                <p class="text-muted">You are not tagged in any posts yet.</p>
            </div>
        </div>
    </div>





    <br><br><br><br>
    <!-- navigation bar niche wala -->


    <div class="container-fluid sticky-bottom-bar">
        <div class="row align-items-center justify-content-around">
            <div class="col-auto icons"><a href="/home"><img src="images/icons/home-dark.jpeg" alt="icon1"
                        class="img-fluid" /></a></div>
            <div class="col-auto icons"><a href="/search"><img src="images/icons/search.jpeg" alt="icon2"
                        class="img-fluid" /></a></div>
            <div class="col-auto icons"><a href="/post"><img src="images/icons/2ndicon+.png" alt="icon2"
                        class="img-fluid" /></a></div>
            <div class="col-auto icons"><a href="/reels"><img src="images/icons/reel.jpeg" alt="icon3"
                        class="img-fluid" /></a>
            </div>
            <div class="col-auto icons"><a href="/profile"><img src="images/icons/harish.jpg" alt="icon4"
                        class="img-fluid rounded-circle" /></a></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>

    <script>
        function showSection(sectionId, clickedIcon) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });

            // Show selected section
            document.getElementById(sectionId).style.display = 'flex';

            // Remove 'active' from all icons
            document.querySelectorAll('.tab-icon').forEach(icon => {
                icon.classList.remove('active');
            });

            // Add 'active' class to clicked icon
            clickedIcon.classList.add('active');
        }
    </script>

    

</body>

</html>